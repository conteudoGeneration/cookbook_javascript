<h1>Projeto 02 - Blog Pessoal - M√≥dulo Postagem</h1>



O que veremos por aqui:

1. Apresenta√ß√£o do M√≥dulo Postagem
2. Criar a estrutura de Pastas do M√≥dulo Postagem
3. Criar a Classe Entidade Postagem
4. Registrar a Classe Postagem nos M√≥dulos PostagemModule e AppModule
5. Registrar a Classe PostagemModule no M√≥dulo AppModule

<br />

<h2>1. O M√≥dulo Postagem</h2>



Nesta etapa vamos come√ßar a construir o M√≥dulo Postagem. Veja o Diagrama de Classes abaixo: 

<div align="center"><img src="https://i.imgur.com/vmCMVTX.png" title="source: imgur.com" width="75%"/></div>

<br />

Primeiro, vamos construir a **Classe Entidade Postagem (Model no modelo MVC)**, que servir√° como base para a cria√ß√£o da tabela **tb_postagens** no banco de dados **db_blogpessoal**. A estrutura e os campos (atributos) dessa tabela seguir√£o o que foi definido no **Diagrama de Classes**.

Na pr√≥xima etapa, vamos construir as classes **PostagemService** (respons√°vel pelas regras de neg√≥cio) e **PostagemController** (que implementar√° os m√©todos do CRUD descritos no Diagrama de Classes).

> **CRUD:** Este acr√¥nimo refere-se √†s opera√ß√µes essenciais para interagir com as tabelas de um banco de dados:
>
> - **Create**: Persistir dados na tabela (criar um novo registro).
> - **Read**: Buscar dados na tabela.
> - **Update**: Atualizar dados da tabela.
> - **Delete**: Apagar dados da tabela.

Ap√≥s criar a **Classe Entidade Postagem**, vamos executar o projeto Blog Pessoal no **NestJS**. Ao fazer isso, a tabela **tb_postagens** ser√° automaticamente criada no banco de dados **db_blogpessoal**. Para visualizar a estrutura da tabela, consulte o **Diagrama de Entidade e Relacionamentos (DER)** abaixo, que mostra a representa√ß√£o visual da tabela **tb_postagens** com todos os seus atributos e relacionamentos.

<div align="center"><img src="https://i.imgur.com/0Q38YWr.jpg" title="source: imgur.com" width="50%"/></div>

O **Dicion√°rio de dados da nossa tabela tb_postagens** ser√° o seguinte:

| Atributo   | Tipo de dado  | Descri√ß√£o                                         | Chave |
| ---------- | ------------- | ------------------------------------------------- | ----- |
| **id**     | INT           | Identificador √∫nico                               | PK    |
| **titulo** | VARCHAR(100)  | T√≠tulo da postagem                                |       |
| **texto**  | VARCHAR(1000) | Conte√∫do da postagem                              |       |
| **data**   | DATETIME(6)   | Data e hora da publica√ß√£o/atualiza√ß√£o da postagem |       |

<br />

<h2>üë£ Passo 01 - Criar o M√≥dulo Postagem</h2>



No contexto do **NestJS**, o **M√≥dulo** √© uma pasta que organiza a estrutura da aplica√ß√£o em componentes, facilitando a manuten√ß√£o e o crescimento do projeto. Cada tabela do banco de dados da aplica√ß√£o ter√° um m√≥dulo correspondente, respons√°vel por interagir com os dados dessa tabela (realizando as opera√ß√µes do CRUD). Al√©m disso, o m√≥dulo tamb√©m pode ser utilizado para adicionar funcionalidades adicionais √† aplica√ß√£o, como, por exemplo, seguran√ßa.

Um **M√≥dulo** no NestJS √© composto, basicamente, por **4 classes principais**:

| **Classes**    | **Descri√ß√£o**                                                |
| -------------- | ------------------------------------------------------------ |
| **Module**     | Classe principal do m√≥dulo, onde s√£o definidas as estruturas de dados, relacionamentos e depend√™ncias. As classes **Entidade**, **Service** e **Controller** devem ser registradas obrigatoriamente na classe **M√≥dulo**. Al√©m disso, a classe **M√≥dulo** precisa ser registrada na Classe **AppModule**, que √© o m√≥dulo raiz da aplica√ß√£o. |
| **Entidade**   | Classe respons√°vel pela abstra√ß√£o dos objetos em registros (linhas) nas tabelas do banco de dados. As classes **Entidade** representam os objetos que ser√£o persistidos. Elas tamb√©m s√£o utilizadas pelo **TypeORM** para criar automaticamente as tabelas no banco de dados, com base nos modelos definidos.<br />Em outras palavras, a Classe Entidade representa uma tabela do banco de dados e define a estrutura dos dados que ser√£o persistidos. |
| **Service**    | Classe respons√°vel por implementar as regras de neg√≥cio da aplica√ß√£o e tratar os dados antes de serem persistidos no banco de dados. <br />**Exemplo:** N√£o √© permitido salvar dois usu√°rios com o mesmo endere√ßo de e-mail. <br />O m√©todo **Cadastrar Usu√°rio** implementaria essa regra, verificando se o e-mail j√° foi cadastrado antes de salvar os dados do novo usu√°rio. |
| **Controller** | Classe respons√°vel por receber todas as requisi√ß√µes HTTP (HTTP Requests) enviadas por um cliente (seja um cliente de testes ou o Frontend), para um endere√ßo de um recurso espec√≠fico. A Classe controladora processa as requisi√ß√µes e retorna uma resposta HTTP (HTTP Response), com base no resultado do processamento dos dados realizado pela classe de **Servi√ßo**. |

A estrutura de **M√≥dulo** descrita acima √© a estrutura b√°sica, mas dependendo das necessidades da aplica√ß√£o, podem ser necess√°rias mais de uma **Classe Entidade**, **Service** e **Controller**. Al√©m disso, podem ser implementadas **Classes e Interfaces auxiliares** com fun√ß√µes espec√≠ficas dentro do m√≥dulo, para lidar com funcionalidades mais especializadas ou de apoio.

Vale ressaltar que, **apenas a Classe M√≥dulo** ser√° √∫nica dentro do m√≥dulo. Caso seja necess√°rio utilizar uma **Classe Servi√ßo** ou **Classe auxiliar** em outro m√≥dulo, √© fundamental registrar a **exporta√ß√£o** dessa classe na **Classe M√≥dulo**, tornando-a acess√≠vel a outros m√≥dulos da aplica√ß√£o. Isso √© feito para garantir que as funcionalidades possam ser compartilhadas entre os m√≥dulos, sem a necessidade de duplica√ß√£o de c√≥digo. O M√≥dulo que for utilizar estas Classes, deve importar o M√≥dulo, para ter acesso as Classes Exportadas.

> **Depend√™ncia C√≠clica entre M√≥dulos**
>
> No **NestJS**, um erro comum √© a **depend√™ncia c√≠clica entre m√≥dulos**. Esse erro ocorre quando dois ou mais m√≥dulos dependem um do outro, criando um ciclo de depend√™ncias que o NestJS n√£o consegue resolver automaticamente. O erro gerado √© o seguinte:
>
> **`Nest can't resolve dependencies of the ModuloA (?). Please make sure that the argument at index [0] is available in the current context.`**
>
> Esse erro acontece porque o NestJS, ao tentar resolver as depend√™ncias, encontra um **loop infinito** em que os m√≥dulos ficam tentando se referir mutuamente. Como resultado, cada m√≥dulo depende do outro para ser inicializado, e o NestJS n√£o consegue resolver essa ordem de inicializa√ß√£o, gerando a falha na execu√ß√£o.

Vamos criar o nosso primeiro M√≥dulo:

1. Na pasta **src**, clique com o bot√£o direito do mouse e clique na op√ß√£o **New Folder** (Nova Pasta). 

<div align="center"><img src="https://i.imgur.com/XtQcMuL.png" title="source: imgur.com" /></div>

2. O nome da pasta ser√° **postagem**, como mostra a figura abaixo. Ap√≥s digitar o nome da pasta, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/eRaRCwg.png" title="source: imgur.com" /></div>

3. Caso voc√™ precise alterar o nome da pasta, clique com o bot√£o direito do mouse e clique na op√ß√£o **Rename** (Renomear) como mostra a figura abaixo. Digite o novo nome da pasta e pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/oNO8mqB.png" title="source: imgur.com" /></div>

Na sequ√™ncia, vamos criar a pasta **entities**, dentro do nosso **M√≥dulo Postagem** (pasta postagem):

1. Na pasta **postagem**, clique com o bot√£o direito do mouse e clique na op√ß√£o **New Folder** (Nova Pasta). 

<div align="center"><img src="https://i.imgur.com/uCdfiD7.png" title="source: imgur.com" /></div>

2. O nome da pasta ser√° **entities**, como mostra a figura abaixo. Ap√≥s digitar o nome da pasta, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/GntV6yy.png" title="source: imgur.com" /></div>

<br />

| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="200px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Aten√ß√£o aos Detalhes ao criar a Classe Entidade. Um erro muito comum √© criar a pasta entities fora da pasta do M√≥dulo.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h2>üë£ Passo 02 - Criar a Classe PostagemModule na pasta Postagem</h2>



Agora vamos criar a Classe **PostagemModule** que chamaremos de **postagem.module.ts**.

| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="220px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Aten√ß√£o aos Detalhes ao criar Classe Module. Um erro muito comum √© digitar o nome da Classe de forma incorreta. O nome da Classe deve estar dentro dos padr√µes do Nest *(nome_do_modulo.tipo_da_classe.ts)* para evitar erros na sua aplica√ß√£o.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

1. Clique com o bot√£o direito do mouse sobre a **pasta postagem**, que foi criada dentro da pasta **src**, como mostra a figura abaixo, e clique na op√ß√£o **New File** (Novo Arquivo).

<div align="center"><img src="https://i.imgur.com/GMaZPav.png" title="source: imgur.com" /></div>

2. O nome do arquivo ser√° **postagem.module.ts**, como mostra a figura abaixo. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/9ZigO6B.png" title="source: imgur.com" /></div>

<br />

<h2>üë£ Passo 03 - Criar a Classe Postagem na pasta Entities</h2>



Antes de implementarmos o c√≥digo da Classe **PostagemModule**, vamos criar a Classe Entidade **Postagem** que chamaremos de **postagem.Entidade.ts**.

| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="220px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Aten√ß√£o aos Detalhes ao criar Classe Entidade. Um erro muito comum √© digitar o nome da Classe de forma incorreta. O nome da Classe deve estar dentro dos padr√µes do Nest *(nome_do_modulo.tipo_da_classe.ts)* para evitar erros na sua aplica√ß√£o.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

1. Clique com o bot√£o direito do mouse sobre a **pasta entities**, que foi criada dentro da pasta **postagem**, como mostra a figura abaixo, e clique na op√ß√£o **New File** (Novo Arquivo).

<div align="center"><img src="https://i.imgur.com/3epbRgA.png" title="source: imgur.com" /></div>

2. O nome do arquivo ser√° **postagem.entity.ts**, como mostra a figura abaixo. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/ttqqIuG.png" title="source: imgur.com" /></div>

Agora vamos criar o c√≥digo da Classe **Postagem**, como mostra a figura abaixo:

<div align="left"><img src="https://i.imgur.com/stg9rcJ.png" title="source: imgur.com" /></div>

Vamos analisar o c√≥digo:

**Linha 1:** Importamos o pacote **Validation** com os respectivos **decoradores**, que ser√£o utilizados para implementar as regras de valida√ß√£o na Classe Postagem.

**Linha 2:** Importamos o pacote **TypeORM** com os respectivos **decoradores**, necess√°rios para mapear a Classe Postagem como uma entidade e realizar a intera√ß√£o com o Banco de dados.

**Linha 4:** O decorador **@Entity** √© utilizado para marcar a classe como uma **entidade**, ou seja, uma classe que ser√° mapeada para uma tabela no Banco de dados. O par√¢metro **name** define o nome da tabela no Banco de dados (**tb_postagens**). Se esse par√¢metro n√£o for informado, o TypeORM usar√° o nome da classe (**Postagem**) para criar a tabela.

Vale ressaltar que o nome da tabela segue o padr√£o **tb_nome_da_tabela** (tb_postagens). O prefixo **tb** indica que se trata de uma tabela. O nome da tabela √© recomendado ser o mesmo da classe, em **letras min√∫sculas**, **sem espa√ßos em branco, caracteres especiais ou acentos**.

**Linhas 8, 12, 16 e 19:** Definem os **atributos** da Classe Postagem, que correspondem aos campos (colunas) na tabela **tb_postagens**. Abaixo, segue a convers√£o de **tipos de dados TypeScript ü°™ MySQL**:

| Atributo   | Tipo de dado TypeScript                                 | Tipo de dado MySQL |
| ---------- | ------------------------------------------------------------ | ------------------ |
| **id**     | <i>number</i> | INT             |
| **titulo** | <i>string</i> | VARCHAR(100)       |
| **texto**  | <i>string</i> | VARCHAR(1000)      |
| **data**   | <i>Date</i> | DATETIME(6)               |

<br />

| <img src="https://i.imgur.com/RfjtOFi.png" title="source: imgur.com" width="120px"/> | <div align="left">**DICA:** *Para relembrar os tipos de dados do TypeScript, <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html">clique aqui</a> e explore os principais tipos de dados oferecidos pelo TypeScript.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

Observe que acima de cada atributo da Classe **Postagem**, foram adicionados **decoradores** que t√™m como fun√ß√£o configurar as propriedades dos atributos no Banco de dados e criar as valida√ß√µes dos dados, que ser√£o inseridos nos objetos (como tamanho, formato, e outros crit√©rios).

**Linha 7:** O decorador **@PrimaryGeneratedColumn** indica que o atributo **id** ser√° a **Chave Prim√°ria** (Primary Key - PK) da tabela **tb_postagens**. Esse decorador tamb√©m configura o atributo **id** para ser gerado automaticamente pelo Banco de dados, utilizando a propriedade **auto-incremento**. Isso significa que o valor para esse campo ser√° uma sequ√™ncia num√©rica, iniciando em 1 e incrementando de 1 em 1 conforme novos registros s√£o inseridos.

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *N√£o confundir o auto-incremento do Banco de Dados que inicia em 1 com o indice de um array (Vetor ou Matriz) que inicia em 0.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

**Nas linhas 10 e 14:** O decorador **@IsNotEmpty**, que faz parte do pacote **Validation**, define que o valor do Atributo n√£o pode ser vazio, ou seja, precisa ser enviado algum valor. Importante destacar que este decorador n√£o impede que o usu√°rio envie espa√ßos em branco no valor do atributo. 

<br />

> [!TIP]
>
> Para impedir este comportamento de aceitar valores com espa√ßos em branco, utilize a Classe **Class-Transformer** para criar uma regra de valida√ß√£o customizada para espa√ßos em branco.

<br />

**Linhas 11 e 15:** O decorador **@Column** define que o atributo ser√° adicionado √† tabela que ser√° criada no Banco de dados, al√©m de permitir configurar as respectivas propriedades do atributo, como o tipo de dados, tamanho, e outros par√¢metros relacionados. √â importante refor√ßar que, caso voc√™ n√£o adicione o decorador **@Column** (exceto para os atributos **Chave Prim√°ria** e **Timestamp**), o atributo n√£o ser√° inserido na estrutura da tabela. Isso significa que o atributo n√£o ser√° mapeado para uma coluna no Banco de dados, e, portanto, n√£o ser√° persistido ao salvar ou atualizar os dados.

Esse comportamento do **@Column** permite um controle expl√≠cito sobre quais atributos da classe s√£o realmente representados e armazenados nas tabelas do Banco de dados.

<br />

<h4>Propriedades do decorador @Column</h4>

| Propriedade  | Descri√ß√£o                                                    |
| ------------ | ------------------------------------------------------------ |
| **length**   | Define o tamanho do atributo string no Banco de dados.       |
| **nullable** | Define se o atributo pode ser nulo (null). <br />**false** = N√£o pode ser nulo<br />**true** = pode ser nulo |

Al√©m das propriedade listadas acima, existem muitas outras propriedades que podem ser consultadas na documenta√ß√£o do **TypeORM** nos links abaixo.

**Na linha 18:** O decorador **@UpdateDateColumn** configura o atributo **data** como um **Timestamp**, ou seja, toda vez que um objeto da classe **Postagem** for criado ou atualizado, o NestJS automaticamente ir√° preencher esse campo com a data e a hora atuais do Sistema Operacional.

Esse comportamento √© √∫til para acompanhar quando um registro foi modificado pela √∫ltima vez. O campo **data** n√£o precisar√° ser manipulado manualmente em opera√ß√µes de atualiza√ß√£o, j√° que o NestJS gerencia automaticamente esse valor sempre que o registro √© alterado.

Vale destacar que o **@UpdateDateColumn** √© usado especificamente para marcar o atributo que dever√° ser atualizado automaticamente em cada altera√ß√£o do objeto, ao contr√°rio de outros tipos de campo de data, como o **@CreateDateColumn**, que marca apenas a data de cria√ß√£o do registro.

<br />

<div align="left"><img src="https://i.imgur.com/O6PILGE.png" title="source: imgur.com" width="4%"/> <a href="https://docs.nestjs.com/techniques/database" target="_blank"><b>Documenta√ß√£o: <i>Banco de dados com Nest</i></b></a></div>

<div align="left"><img src="https://i.imgur.com/OtnA0bd.png" title="source: imgur.com" width="4%"/> <a href="https://typeorm.io/entities" target="_blank"><b>Documenta√ß√£o: <i>Entidades no TypeORM</i></b></a></div>

<div align="left"><img src="https://i.imgur.com/6knlnLz.png" title="source: imgur.com" width="30px"/> <a href="https://github.com/typestack/class-validator" target="_blank"><b>Documenta√ß√£o: <i>Pacote Validation</i></b></a></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="3%"/> <a href="https://github.com/rafaelq80/backend_blogpessoal_nest/blob/03_Entity_Postagem/blogpessoal/src/postagem/entities/postagem.entity.ts" target="_blank"><b>C√≥digo fonte da Classe Postagem</b></a></div>

<br />


<h2>üë£ Passo 04 - Registrar a Classe Postagem na Classe PostagemModule</h2>



Vamos implementar o c√≥digo da Classe **PostagemModule** e registrar a Classe **Postagem** no M√≥dulo Postagem. O c√≥digo da Classe **Postagem** ser√° implementado conforme a figura abaixo:

<div align="left"><img src="https://imgur.com/L8LSApH.png" title="source: imgur.com" /></div>

Vamos analisar o c√≥digo:

**Linha 1:** Importamos o pacote **Common** com os respectivos **decoradores**, utilizados na implementa√ß√£o da Classe **PostagemModule**. O **Common** cont√©m utilit√°rios essenciais para o NestJS, como **Module**, **Injectable**, entre outros, que s√£o utilizados para configurar as funcionalidades principais do m√≥dulo.

**Linha 2:** Importamos o pacote **TypeORM** com os respectivos **decoradores**, que s√£o utilizados para trabalhar com o banco de dados. Esses decoradores ajudam a mapear as entidades e relacionamentos para a cria√ß√£o de tabelas e a intera√ß√£o com o banco de dados.

**Linha 3:** Importamos a Classe **Postagem**, que foi criada anteriormente. Observe que, para garantir boas pr√°ticas de organiza√ß√£o e manuten√ß√£o do c√≥digo, estamos utilizando o caminho relativo (**./entities/postagem.entity.ts**) ao inv√©s do caminho absoluto (**src/entities/postagem.entity.ts**). Usar caminhos relativos ajuda a tornar o c√≥digo mais modular e independente de estruturas espec√≠ficas de diret√≥rios, facilitando refatora√ß√µes e migra√ß√µes de c√≥digo sem a necessidade de atualizar diversos caminhos de importa√ß√£o.

<br />

| <img src="https://i.imgur.com/oScAYGc.png" title="source: imgur.com" width="150px"/> | <div align="left"> **ATEN√á√ÉO:** *Se uma Classe for importada com o caminho absoluto, os testes da aplica√ß√£o com o framework Jest n√£o ser√£o executados. O Jest n√£o reconhece caminho absoluto, apenas caminho relativo* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

**Linha 5:** O decorador **@Module** define que esta classe ser√° a principal do M√≥dulo. Nela, registramos todas as depend√™ncias necess√°rias, como as **Classes Entidade**, **Service** e **Controller**, que fazem parte do m√≥dulo. Este decorador organiza a estrutura do m√≥dulo, tornando as classes do m√≥dulo acess√≠veis ao NestJS.

**Linha 6:** No array **imports**, utilizamos o m√©todo **forFeature()** da classe **TypeOrmModule** para importar todas as **Classes Entidade** (Model) do m√≥dulo. Este m√©todo √© respons√°vel por registrar as entidades, permitindo que o NestJS as utilize para interagir com o banco de dados. No caso, estamos importando a Classe Entidade **Postagem** para associ√°-la √† tabela **tb_postagens**.

**Linha 7:** No array **providers**, registramos todas as **Classes de Servi√ßo** que ser√£o respons√°veis pela l√≥gica da aplica√ß√£o. Como ainda n√£o implementamos nenhum servi√ßo, deixamos esse array vazio, mas futuramente vamos adicionar a Classe **PostagemService** para gerenciar as opera√ß√µes CRUD da tabela **tb_postagens**.

**Linha 8:** No array **controllers**, registramos todas as **Classes Controladoras**, que s√£o respons√°veis por receber as requisi√ß√µes HTTP (requests) e delegar o processamento para as classes de servi√ßo. No momento, o array est√° vazio, j√° que ainda n√£o implementamos a Classe  **PostagemController**.

**Linha 9:** No array **exports**, adicionamos as **Classes** que precisam ser disponibilizadas para outros m√≥dulos. Isso permite que outras partes da aplica√ß√£o possam utilizar essas classes de forma compartilhada.

**Linha 11:** A classe **PostagemModule** √© exportada, tornando-a acess√≠vel e permitindo que ela seja registrada no **AppModule**. O **AppModule** √© o m√≥dulo raiz da aplica√ß√£o e, ao registrar o **PostagemModule**, ele disponibiliza as funcionalidades de postagem para toda a aplica√ß√£o.

<br />

<div align="left"><img src="https://i.imgur.com/O6PILGE.png" title="source: imgur.com" width="4%"/> <a href="https://docs.nestjs.com/modules" target="_blank"><b>Documenta√ß√£o: <i>M√≥dulos no Nest</i></b></a></div>

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="4%"/> <a href="https://github.com/rafaelq80/backend_blogpessoal_nest/blob/03_Entity_Postagem/blogpessoal/src/postagem/postagem.module.ts" target="_blank"><b>C√≥digo fonte da Classe PostagemModule</b></a></div>


<br />

<h2>üë£ Passo 05 - Registrar a Classe Postagem na Classe AppModule</h2>



Para finalizar, vamos registrar a Classe **Postagem** no M√≥dulo principal da  aplica√ß√£o (**AppModule**). 

1. Abra a Classe **AppModule**, localizada na pasta **src**, conforme indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/wd1xAZQ.png" title="source: imgur.com" /></div>

2. Implemente as duas altera√ß√µes, indicadas pelas setas na imagem abaixo:

<div align="left"><img src="https://i.imgur.com/G37nui2.png" title="source: imgur.com" /></div>

Vamos analisar o c√≥digo:

**Linha 3:** Importamos a Classe **Postagem**, que foi definida anteriormente como a Entidade (Model) respons√°vel pela tabela **tb_postagens** no banco de dados. Essa classe representa a estrutura da tabela e ser√° usada pelo TypeORM para realizar opera√ß√µes de persist√™ncia de dados.

**Linha 4:** Importamos a Classe **PostagemModule**, que encapsula a l√≥gica do m√≥dulo relacionado √† **Postagem**. Esse m√≥dulo define como a Entidade **Postagem** ser√° usada, al√©m de registrar o Service e o Controller necess√°rios para realizar as opera√ß√µes CRUD (Create, Read, Update, Delete).

**Linha 15:** Dentro da configura√ß√£o do banco de dados, no array **entities**, devemos importar todas as **Classes Entidade** do m√≥dulo. O TypeORM precisa dessas entidades para gerar a estrutura das tabelas no banco de dados. Aqui, estamos incluindo a **Classe Postagem** para que a tabela **tb_postagens** seja criada e manipulada corretamente.

**Linha 19:** Ap√≥s a configura√ß√£o do banco de dados, dentro do array **imports**, vamos importar todas as **Classes Module** dos m√≥dulos que queremos integrar ao **AppModule**. Isso garante que as funcionalidades de outros m√≥dulos estar√£o acess√≠veis. Aqui, inserimos a **Classe PostagemModule** para garantir que os recursos do m√≥dulo de postagem, como a Entidade, Service e Controller, sejam registrados e possam ser utilizados pela aplica√ß√£o.

<br />

| <img src="https://i.imgur.com/oScAYGc.png" title="source: imgur.com" width="150px"/> | <div align="left"> **ATEN√á√ÉO:** *Todas as Classes Entidade devem ser registradas no M√≥dulo principal da aplica√ß√£o (AppModule), caso contr√°rio a Tabela n√£o ser√° criada no Banco de dados.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<div align="left"><img src="https://i.imgur.com/O6PILGE.png" title="source: imgur.com" width="4%"/> <a href="https://docs.nestjs.com/modules" target="_blank"><b>Documenta√ß√£o: <i>M√≥dulos no Nest</i></b></a></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="4%"/> <a href="https://github.com/rafaelq80/backend_blogpessoal_nest/blob/03_Entity_Postagem/blogpessoal/src/app.module.ts" target="_blank"><b>C√≥digo fonte da Classe AppModule</b></a></div>

<br />

<h2>üë£ Passo 06 - Executar o projeto</h2>



1. Verifique se voc√™ est√° dentro da pasta do projeto, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/JgNkmDv.png" title="source: imgur.com" /></div>

2. Digite o comando ***npm run start:dev***, para compilar e executar o nosso projeto **blogpessoal**, caso ele n√£o esteja em execu√ß√£o. 

```bash
npm run start:dev
```

3. Se tudo deu certo, o resultado ser√° semelhante ao da figura abaixo:

<div align="center"><img src="https://i.imgur.com/nEAKeP5.png" title="source: imgur.com" /></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="30px"/> <a href="mudar" target="_blank"><b>C√≥digo fonte do projeto</b></a></div>

<br />


<h2>üë£ Passo 07 - Checar se a Tabela foi criada no Banco de Dados</h2>



Vamos checar no Banco de Dados **db_blogpessoal** se a Tabela **tb_postagens** foi criada.

1. Abra o MySQL Workbench
2. Na janela **Navigator**, Clique no bot√£o <img src="https://i.imgur.com/UANRDni.png" title="source: imgur.com" /> (Atualizar)

<div align="center"><img src="https://i.imgur.com/G7z3ED6.png" title="source: imgur.com" /></div>

3. Verifique no Banco de dados **db_blogpessoal** se a tabela **tb_postagens** foi criada corretamente, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/BQ2tMkw.png" title="source: imgur.com" /></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="3%"/> <a href="https://github.com/rafaelq80/backend_blogpessoal_nest/tree/03_Entity_Postagem" target="_blank"><b>C√≥digo fonte do Projeto</b></a></div>

<br />

<h2>Anexo I - Erros comuns</h2>

| Erro                                     | Descri√ß√£o                                                    |
| ---------------------------------------- | ------------------------------------------------------------ |
| **No metadata for 'Postagem' was found** | A Classe Postagem n√£o foi registrada no M√≥dulo AppModule. Verifique se voc√™ fez o registro da Classe Postagem na Classe AppModule e na Classe PostagemModule. |

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>